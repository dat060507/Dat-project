<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Payment Success</title>
<style>
body{font-family:Arial;text-align:center;padding:30px;}
h1{color:#2e7d32;}
body.dark h1{color:#81c784;}
.cart-item{margin:10px 0;display:flex;justify-content:space-between;max-width:400px;margin:auto;}
.button{margin-top:20px;padding:10px 20px;font-size:16px;background:#4caf50;color:white;border:none;border-radius:8px;cursor:pointer;}
</style>
</head>
<body>
<h1>Payment Successful!</h1>
<p>Thank you for your purchase.</p>

<div id="summary"></div>

<button class="button" onclick="backToShop()">Back to Shop</button>

<script>
let history=JSON.parse(localStorage.getItem('purchaseHistory')||"[]");
if(history.length>0){
    let last=history[0];
    let summary=`<h3>Total Paid: $${parseFloat(last.total).toFixed(2)}</h3>`;
    last.items.forEach(item=>{
        summary+=`<div class="cart-item"><div>${item.name} x${item.quantity}</div><div>$${item.total.toFixed(2)}</div></div>`;
    });
    document.getElementById('summary').innerHTML=summary;
}

function backToShop(){ window.location.href="index.html"; }

if(localStorage.getItem('darkMode')==='true') document.body.classList.add('dark');
</script>
</body>
</html>
